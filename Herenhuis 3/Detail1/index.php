<!doctype html>
<html lang="nl">
	<head>
		<meta charset="UTF-8">
		<title> Detail | Herenhuizen </title>
		<link rel="stylesheet" href="../CSS/main.css">
		<link rel="stylesheet" href="style.css">
	</head>


	<body>
		<header>
			<nav>
				<ul>
					<li><a href="../">Home</a></li>
					<li><a href="../Huizen/">Huizen</a></li> 
					<li><a href="../Contact/">Contact</a></li>
					<li><a href="../Login/login.php">Login</a></li>
				</ul>   
			</nav>
		</header>
		
	<main>

		<h1 class="center"> Detail </h1>	
		<div class="fotoblock">
			

<!-- Slideshow container -->
		
		<div class="slideshow-container">

			<!-- Full-width images with number and caption text -->
			
			<div class="mySlides fade">
			<div class="numbertext"> 1 / 41 </div>
			<img src="img1/01.jpg" style="width:100%" alt="foto1">
			</div>

			<div class="mySlides fade">
			<div class="numbertext"> 2 / 41 </div>
			<img src="img1/02.jpg" style="width:100%" alt="foto2">
			</div>

			<div class="mySlides fade">
			<div class="numbertext"> 3 / 41 </div>
			<img src="img1/03.jpg" style="width:100%" alt="foto3">
			</div>
				<div class="mySlides fade">
			<div class="numbertext"> 4 / 41 </div>
			<img src="img1/04.jpg" style="width:100%" alt="foto4">
			</div>

			<div class="mySlides fade">
			<div class="numbertext"> 5 / 41 </div>
			<img src="img1/05.jpg" style="width:100%" alt="foto5">
			</div>

			<div class="mySlides fade">
			<div class="numbertext"> 6 / 41 </div>
			<img src="img1/06.jpg" style="width:100%" alt="foto6">
			</div>
				<div class="mySlides fade">
			<div class="numbertext"> 7 / 41 </div>
			<img src="img1/07.jpg" style="width:100%" alt="foto7">
			</div>

			<div class="mySlides fade">
			<div class="numbertext"> 8 / 41 </div>
			<img src="img1/08.jpg" style="width:100%" alt="foto8">
			</div>

			<div class="mySlides fade">
			<div class="numbertext"> 9 / 41 </div>
			<img src="img1/09.jpg" style="width:100%" alt="foto9">
			</div>
				<div class="mySlides fade">
			<div class="numbertext"> 10 / 41 </div>
			<img src="img1/10.jpg" style="width:100%" alt="foto10">
			</div>

			<div class="mySlides fade">
			<div class="numbertext"> 11 / 41 </div>
			<img src="img1/11.jpg" style="width:100%" alt="foto11">
			</div>

			<div class="mySlides fade">
			<div class="numbertext"> 12 / 41 </div>
			<img src="img1/12.jpg" style="width:100%" alt="foto12">
			</div>
				<div class="mySlides fade">
			<div class="numbertext"> 13 / 41 </div>
			<img src="img1/13.jpg" style="width:100%" alt="foto13">
			</div>

			<div class="mySlides fade">
			<div class="numbertext"> 14 / 41 </div>
			<img src="img1/14.jpg" style="width:100%" alt="foto14">
			</div>

			<div class="mySlides fade">
			<div class="numbertext"> 15 / 41 </div>
			<img src="img1/15.jpg" style="width:100%" alt="foto15">
			</div>
				<div class="mySlides fade">
			<div class="numbertext"> 16 / 41 </div>
			<img src="img1/16.jpg" style="width:100%" alt="foto16">

			</div>

			<div class="mySlides fade">
			<div class="numbertext"> 17 / 41 </div>
			<img src="img1/17.jpg" style="width:100%" alt="foto17">
			</div>

			<div class="mySlides fade">
			<div class="numbertext"> 18 / 41 </div>
			<img src="img1/18.jpg" style="width:100%" alt="foto18">
			</div>
				<div class="mySlides fade">
			<div class="numbertext"> 19 / 41 </div>
			<img src="img1/19.jpg" style="width:100%" alt="foto19">
			</div>

			<div class="mySlides fade">
			<div class="numbertext"> 20 / 41 </div>
			<img src="img1/20.jpg" style="width:100%" alt="foto20">
			</div>

			<div class="mySlides fade">
			<div class="numbertext"> 21 / 41 </div>
			<img src="img1/21.jpg" style="width:100%" alt="foto21">
				
			</div>	<div class="mySlides fade">
			<div class="numbertext"> 22 / 41 </div>
			<img src="img1/22.jpg" style="width:100%" alt="foto22">
			</div>

			<div class="mySlides fade">
			<div class="numbertext"> 23 / 41 </div>
			<img src="img1/23.jpg" style="width:100%" alt="foto23">
			</div>

			<div class="mySlides fade">
			<div class="numbertext"> 24 / 41 </div>
			<img src="img1/24.jpg" style="width:100%" alt="foto24">
				
			</div>	<div class="mySlides fade">
			<div class="numbertext"> 25 / 41 </div>
			<img src="img1/25.jpg" style="width:100%" alt="foto25">
			</div>

			<div class="mySlides fade">
			<div class="numbertext"> 26 / 41 </div>
			<img src="img1/26.jpg" style="width:100%" alt="foto26">
			</div>

			<div class="mySlides fade">
			<div class="numbertext"> 27 / 41 </div>
			<img src="img1/27.jpg" style="width:100%" alt="foto27">
				
			</div>	<div class="mySlides fade">
			<div class="numbertext"> 28 / 41 </div>
			<img src="img1/28.jpg" style="width:100%" alt="foto28">
			</div>

			<div class="mySlides fade">
			<div class="numbertext"> 29 / 41 </div>
			<img src="img1/29.jpg" style="width:100%" alt="foto29">
			</div>

			<div class="mySlides fade">
			<div class="numbertext"> 30 / 41 </div>
			<img src="img1/30.jpg" style="width:100%" alt="foto30">
			</div>
			
				<div class="mySlides fade">
			<div class="numbertext"> 31 / 41 </div>
			<img src="img1/31.jpg" style="width:100%" alt="foto31">
			</div>

			<div class="mySlides fade">
			<div class="numbertext"> 32 / 41 </div>
			<img src="img1/32.jpg" style="width:100%" alt="foto32">
			</div>

			<div class="mySlides fade">
			<div class="numbertext"> 33 / 41 </div>
			<img src="img1/33.jpg" style="width:100%" alt="foto33">
			</div>
			
			<div class="mySlides fade">
				<div class="numbertext"> 34 / 41 </div>
				<img src="img1/34.jpg" style="width:100%" alt="foto34">
			</div>

			<div class="mySlides fade">
				<div class="numbertext"> 35 / 41 </div>
				<img src="img1/35.jpg" style="width:100%" alt="foto35">
			</div>

			<div class="mySlides fade">
				<div class="numbertext"> 36 / 41 </div>
				<img src="img1/36.jpg" style="width:100%" alt="foto36">
			</div>
			
				<div class="mySlides fade">
			<div class="numbertext"> 37 / 41 </div>
				<img src="img1/37.jpg" style="width:100%" alt="foto37">
			</div>

			<div class="mySlides fade">
				<div class="numbertext"> 38 / 41 </div>
				<img src="img1/38.jpg" style="width:100%" alt="foto38">
			</div>

			<div class="mySlides fade">
				<div class="numbertext"> 39 / 41 </div>
				<img src="img1/39.jpg" style="width:100%" alt="foto39">
			</div>
			
			<div class="mySlides fade">
				<div class="numbertext"> 40 / 41 </div>
				<img src="img1/40.jpg" style="width:100%" alt="foto40">
			</div>

			<div class="mySlides fade">
				<div class="numbertext"> 41 / 41 </div>
				<img src="img1/41.jpg" style="width:100%" alt="foto41">
			</div>

			<a class="prev" onclick="plusSlides(-1)">&#10094;</a>
			<a class="next" onclick="plusSlides(1)">&#10095;</a>

	</div>
	<br>

<script>
	
	//Slideshow verwerking
	
var slideIndex = 1;
showSlides(slideIndex);

function plusSlides(n) {
  showSlides(slideIndex += n);
}

function currentSlide(n) {
  showSlides(slideIndex = n);
}

function showSlides(n) {
  var i;
  var slides = document.getElementsByClassName("mySlides");
  var dots = document.getElementsByClassName("dot");
  if (n > slides.length) {slideIndex = 1}    
  if (n < 1) {slideIndex = slides.length}
  for (i = 0; i < slides.length; i++) {
      slides[i].style.display = "none";  
  }
  for (i = 0; i < dots.length; i++) {
      dots[i].className = dots[i].className.replace(" active", "");
  }
  slides[slideIndex-1].style.display = "block";  
  dots[slideIndex-1].className += " active";
}
</script>
			
		</div>
		
		<div class="phpvormgeving">
			
		<a href="../Huizen/"> Terug naar overzicht </a> <br>
			
		<?php
  
			//informatie for de huizen uitlezen
			
		require 'config.php';

		$tabelnaam = "Table_informatie";

		$result = mysqli_query($mysqli, "SELECT * FROM $tabelnaam WHERE ID = '1'");

		if($result){

		while($row = mysqli_fetch_assoc($result)){

		echo($row['Text']);

		} 

		}

		else{

		echo(mysqli_error($mysqli));

		}

		?>
			
		<?php
			
			//informatie voor de huizen neer zetten zo dat ander mensen kunnen lezen

		require 'config.php';

		$query = "SELECT * FROM Table_huizen";

		$data = mysqli_query($mysqli, $query);

		if (mysqli_num_rows($data) == 0)
		{
		echo "<p>Er zijn geen gegevens gevonden!</p>";
		}

		else
		{
		while ($regel = mysqli_fetch_array($data))
		{
		echo "<p class='phpvormgeving'>De startprijs is " . $regel ['Start_prijs'] . "</p>";
		echo "<p class='phpvormgeving'>Het ligt in " . $regel ['Stad'] . "</p>";
		echo "<p class='phpvormgeving'>De postcode is " . $regel ['Postcode'] . "</p>";
		echo "<p class='phpvormgeving'>De straatnaam is " . $regel ['Straatnaam'] . "</p>";
		echo "<p class='phpvormgeving'>Het huisnummer is " . $regel ['Huisnummer'] . "</p>";
		echo "<p class='phpvormgeving'>De bouwjaar is " . $regel ['Bouwjaar'] . "</p>";
		echo "<p class='phpvormgeving'>Het oppervlakte is " . $regel ['Oppervlakte'] . "</p>";
		echo "<p class='phpvormgeving'>Aantal kamers " . $regel ['Kamers'] . "</p>";

		}

		}
			
		?>
			
	<fieldset>
	<legend>Herenhuis</legend>	
	<form method="POST">
		<!-- Het bieden voor een huis -->
	<input type="number" id="Bod" name="Bod" placeholder="Uw bod (vanaf &euro;260.000)" required> <br>
	<input type="text" id="Email" name="Email" placeholder="Uw email" required> <br>
	<input type="number" id="Huisnr" name="Huisnr" placeholder="Uw huisnummer" required> <br>	
	<input type="submit" value="Bieden" id="Submit" name="Submit"> <br>
	</form>
	<div class="bieding">
	<?php
		
		//Ip Hallen
		
	function getUserIP()
	{
		$client  = @$_SERVER['HTTP_CLIENT_IP'];
		$forward = @$_SERVER['HTTP_X_FORWARDED_FOR'];
		$remote  = $_SERVER['REMOTE_ADDR'];

		if(filter_var($client, FILTER_VALIDATE_IP))
		{
			$ip = $client;
		}
		elseif(filter_var($forward, FILTER_VALIDATE_IP))
		{
			$ip = $forward;
		}
		else
		{
			$ip = $remote;
		}

		return $ip;
	}

	$user_ip = getUserIP();

		//Het verwerken van de bieding

	if (isset($_POST['Submit']))
	{
	require 'config.php'; 

	$Bod = $_POST['Bod'];	
	$Email = $_POST['Email'];
	$Huisnr = $_POST['Huisnr'];	

	$query = "INSERT INTO Table_bieding VALUES (NULL,'$Huisnr','$Email', '$Bod', '$user_ip')";
	if (mysqli_query($mysqli, $query))
	{
		echo "Dankuwel, uw bod is verwerkt! <br/>Huisnummer: $Huisnr<br/>Email: $Email<br/>Bod: &euro; $Bod<br/>";
	}
	else
	{
		echo "Uw bod is niet verwerkt.. Probeer het later opnieuw.<br/>";	
	}
	}
	?>
		
	<h3>Biedingen</h3>	
<?php
		
		// Het laten zien van de hoogste bod
		
require 'config.php';

$query = "SELECT MAX(Bod) AS HighestBid FROM Table_bieding";
$data = mysqli_query($mysqli, $query);		
		

if (mysqli_num_rows($data) == 0)
{
	echo "<p>Er zijn geen gegevens gevonden!</p>";
}

else
{
	echo "<table border='2'>";
	echo "<tr>";
	echo "<td> <strong> Hoogste Bod:</strong></td>";
	echo "</tr>";
	
	$regel = mysqli_fetch_array($data);
	
	echo "<tr>";
	echo "<td>" . $regel ['HighestBid'] . "</td>";
	echo "</tr>";
	
	echo "</table>";
}
?>
	
	</div>	
	</fieldset>
	
		</div>

			
		
		
	</main>
		
		<footer> Herenhuizen B.V. | Website gemaakt door Q to DyFe </footer>
		
	</body>
</html>